{% extends 'base.html.twig' %}

{% block title %}Check Cart{% endblock %}

{% block body %}
	{% if items | length > 0 %}
	<section class="vh-100">
	<div class="container h-100">
		<div class="row d-flex justify-content-center align-items-center h-100">
			<div class="col">
				<p><span class="h2"> Check Lại Đi Đã Mua Nhé ! </span><span class="h4"></span></p>
				<p><span class="h2"> Hiện quantity đang bug update, để update quantity, đọc kỹ ghi chú bên dưới. </span><span class="h4"></span></p>
    
	{% for item in items %}
				<div class="card mb-4">
        			<div class="card-body p-4">
						<div class="row align-items-center">
							<div class="col-md-2">
								<img src="{{ asset('images/product/' ~ item.product.image) }}" alt="{{ item.product.name }}" class="img-fluid">
							</div>
							<div class="col-md-2 d-flex justify-content-center">
								<div>
									<p class="small text-muted mb-4 pb-2">Name</p>
									<p class="lead fw-normal mb-0">{{ item.product.Name }}</p>
								</div>
							</div>
							<div class="col-md-2 d-flex justify-content-center">
								<div>
									<p class="small text-muted mb-4 pb-2">Quantity</p>
									<p class="lead fw-normal mb-0">{{ item.quantity }}</p>
								</div>
							</div>
							<div class="col-md-2 d-flex justify-content-center">
							<div>
								<form 
								action="{{ path('app_add_cart', {'id': product}) }}" method="GET">
                                    <h5> Select Quantity</h5>
                                    <input type="number" id="quantity" name="quantity" value="0"> <br></br>
                                        <button href="{{ path('app_add_cart', {'id': product}) }}"
                                        class="btn btn-primary" type="submit">Update Quantity</button>    
								</div>
							</div>
							<div class="col-md-2 d-flex justify-content-center">
								<div>
									<p class="small text-muted mb-4 pb-2">Price</p>
									<p class="lead fw-normal mb-0">{{ item.product.Price }} $</p>
								</div>
							</div>
							<div class="col-md-2 d-flex justify-content-center">
								<div>
									<p class="small text-muted mb-4 pb-2">Total</p>
									<p class="lead fw-normal mb-0">{{ item.quantity * item.product.Price }}$</p>
								</div>
							</div>
        				</div>
					</div>
				</div>
	{% endfor %}
	Ghi Chú:
	<p><span class="h2"> Để Update Quantity. Vui lòng Update Sản Phẩm ☝ bên Trên Ghi Chú Này
	 ( Sản phẩm cuối cùng từ dưới lên). Sau Khi Update, Sản phẩm sẽ được đưa lên đầu danh sách. </span><span class="h4">	 </span></p>
			<div class="card mb-5">
				<div class="card-body p-4">
            		<div class="float-end">
              			<p class="mb-0 me-5 d-flex align-items-center">
							<span class="small text-muted me-2">Order total:</span>
							<span class="lead fw-normal"> {{ total }} $</span>
						</p>
           		 	</div>
          		</div>
        	</div>
	
			<div class="d-flex justify-content-end">
				<a href="{{ path('app_product_index') }}" class="btn btn-light">Continue shopping</a>
				<a href="{{ path('app_checkout_cart') }}" class="btn btn-primary">Tiến Đến Checkout</a>
			</div>
      	</div>
     </div>
	</section>
	{% endif %}
	<div class="container">
		<p>You don't add any product yet</p>
		<a href=""
{% endblock %}